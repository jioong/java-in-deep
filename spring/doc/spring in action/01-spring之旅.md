# Spring 之旅

Spring 是为了解决企业级应用开发的复杂性而创建的，使用Spring可以让简单的`JavaBean`实现之前只有`EJB`才能完成的事情。但是，`Spring`不仅仅局限于服务端
的开发，任何Java应用都能在简单性、可测试性和松耦合等方面从Spring收益。

*Spring*最根本的使命：**简化Java开发。**  

为了降低Java开发的复杂性，Spring采取了以下4种关键策略：
* 基于`POJO`的轻量级和最小侵入性编程。
* 通过依赖注入和面向接口实现松耦合。
* 基于切面和惯例进行声明式编程。
* 通过切面和模板减少样板式代码。

Spring的非侵入编程意味着这个类在Spring应用和非Spring应用中**都可以发挥同样的作用。**

## 依赖注入

按照传统做法：每个对象负责管理与自己相互协作的对象的引用，这将导致高度耦合和难以测试的代码。

耦合具有两面性：
1. 紧密耦合的代码难以测试、难以复用、难以理解。
2. 一定程度的耦合又是必须的，完全没有耦合的代码什么也做不了。

通过DI，对象的依赖关系将由系统中负责协调各对象的第三方组件在创建对象的时候进行设定。对象无需自行创建或管理它们的依赖关系。
依赖关系将被自动注入到需要它们的对象当中去。

如果一个对象只通过接口(而不是具体实现或初始化过程)来表明依赖关系，那么这种依赖就能够在对象本身毫不知情的情况下，**用不同的具体实现来进行替换。**

对依赖进行替换的一个最常用的方法就是在测试的时候使用`mock`实现。

依赖注入的方式：
1. 构造器注入(Constructor injection)

创建应用组件之间的协作行为通常称为**装配 Wiring**。Spring有多种装配方式：
1. 采用`XML`配置文件

> 只有Spring通过它的配置，能够了解这些组成部分是如何装配起来的。这样的话，可以在不改变所依赖的类的情况下，修改依赖关系。

Spring通过**应用上下文(Application Context)**装在`bean`的定义并把它们组装起来。Spring应用上下文全权负责对象的创建和组装。`Spring`自带多种应用上下文的实现，
它们之间的区别仅仅在于如何加载配置。

## 应用切面

DI能够让相互协作的软件组织保持松散耦合，而面向切面编程允许**将遍布应用各处的功能分离出来形成可重用的组件。**

面向切面编程往往被定义为**促使软件系统实现关注点分离**的一项技术。系统由许多不同的组件组成，每一个组件负责一块特定功能。

> 横切关注点，会跨越系统的多个组件。

AOP能确保POJO的简单性。AOP能够使这些服务模块化，并以声明的方式将它们应用到它们**需要影响**的组件中去。所造成的结果就是这些组件会具有更高的内聚性并且会更加
关注自身业务，完全不需要了解设计系统服务所带来的复杂性。

借助AOP，可以使用各功能层去包裹核心业务层。功能层以声明的方式灵活地应用到系统中。