# 通过Spring和JDBC征服数据库

## 1. Spring的数据库访问哲学

为了避免数据持久化的逻辑分散到应用的各个组件中，最好将数据访问的功能放在一个或镀铬专注于此项任务的组件中。这样的组件通常称为数据访问对象(DAO)或`Repository`。

> 将实现隐藏在接口之下。

### 1.1 Spring的数据访问异常体系

*JDBC*会抛出`SQLException`异常，用于表示在尝试访问数据库的时候出现了问题，但是这个异常美而有告诉哪里出错以及如何处理。可能导致抛出该异常的常见问题报包括：
* 应用程序无法连接数据库。
* 要执行的查询语句存在语法错误。
* 查询中所使用的表或列不存在。
* 试图插入或更新的数据违反了数据库约束。
* ...

`SQLException`的问题在于捕获到之后如何处理，事实上，能够触发该异常的情况通常不能在`catch`代码块中解决。

Spring的异常体系即丰富又不与特定持久化方式关联。

## 2. 配置数据源

无论选择Spring的哪种数据访问方式，都需要配置一个数据源的引用。Spring提供了在Spring上下文中配置数据源的多种方式，包括：
* 通过JDBC驱动程序定义的数据源。
* 通过JNDI查找的数据源。
* 连接池的数据源。

### 2.1 使用JNDI数据源

位于`jee命名空间`下的`<jee:jndi-lookup>`元素可以用于索引JNDI中的任何对象(包括数据源)并将其作为Spring的`bean`。