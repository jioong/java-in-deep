# 服务调用

## 误区

### NIO就是异步服务

引入NIO的优点如下：
1. 所有IO操作都是非阻塞的，避免有限的IO线程因为网络、对方处理慢等原因被阻塞。
2. 多路复用的Reactor线程模型，一个IO线程可以并行处理成百上千条链路，解决了传统同步IO通信线程膨胀的问题。

NIO只是解决了通信层面的异步问题，跟服务调用的异步没有必然的关系。

## 服务调用的方式

### 同步服务调用

工作原理如下：客户端发起 远程服务调用请求，用户线程完成消息序列化之后，将消息投递到通信框架，然后同步阻塞，等待通信线程发送请求并接收到应答之后，唤醒同步等待的
用户线程，用户线程获取到应答之后返回。

为了防止服务端长时间不返回应答消息导致客户端用户线程被挂起，用户线程等待的时候**必须设置超时时间**。

### 异步服务调用

### 并行服务调用

