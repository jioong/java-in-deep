# IO 概念

## 缓冲区操作

进程执行IO操作，就是**向操作系统发出请求，让它要么把缓冲区里的数据排干(写)，要么用数据把缓冲区填满(读)。**

> 文件系统是更高层次的抽象，是安排、解释磁盘数据的一种独特方式。文件系统定义了文件名、路径、文件、文件属性等抽象概念。

文件系统把一连串大小一致的数据块组织到一起。有些块存储元信息，如空闲块、目录、索引等的映射，有些包含文件数据。单个文件的元信息描述了哪些块包含文件数据、
数据在哪里结束、最后一次更新是什么时候，等等。

当用户进程请求读取文件数据时，文件系统需要确定数据具体在磁盘的什么位置，然后着手把相关磁盘扇区读进内存。

## 文件锁定

文件锁定机制允许一个进程阻止其他进程读取某文件，或限制其存取方式。通常的用途是控制共享信息的更新方式，或用于事务隔离。
文件锁定有两种方式：共享的和独占的。多个共享锁可以同时对同一文件区域发生作用。独占锁则要求相关区域不能有其他锁定在起作用。